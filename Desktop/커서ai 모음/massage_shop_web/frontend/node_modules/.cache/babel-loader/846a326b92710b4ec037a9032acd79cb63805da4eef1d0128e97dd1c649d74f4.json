{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Typography,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from'@mui/material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ManagementRecord(){const[records,setRecords]=useState([]);const[error,setError]=useState('');useEffect(()=>{const fetchRecords=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:5000/api/management-records',{headers:{Authorization:\"Bearer \".concat(token)}});setRecords(response.data);}catch(error){console.error('Error fetching records:',error);setError('관리 기록을 불러오는데 실패했습니다.');}};fetchRecords();},[]);if(error){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Typography,{color:\"error\",sx:{mt:2},children:error})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",gutterBottom:true,children:\"\\uAD00\\uB9AC \\uAE30\\uB85D\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"\\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC791\\uC5C5\\uC790\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC791\\uC5C5 \\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(TableCell,{children:\"\\uC0C1\\uC138 \\uC815\\uBCF4\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:records.map(record=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:new Date(record.created_at).toLocaleString()}),/*#__PURE__*/_jsx(TableCell,{children:record.user}),/*#__PURE__*/_jsx(TableCell,{children:record.action}),/*#__PURE__*/_jsx(TableCell,{children:record.details})]},record.id))})]})})]});}export default ManagementRecord;","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","axios","jsx","_jsx","jsxs","_jsxs","ManagementRecord","records","setRecords","error","setError","fetchRecords","token","localStorage","getItem","response","get","headers","Authorization","concat","data","console","children","color","sx","mt","variant","component","gutterBottom","map","record","Date","created_at","toLocaleString","user","action","details","id"],"sources":["C:/Users/cp/Desktop/커서ai 모음/massage_shop_web/frontend/src/components/ManagementRecord.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\n\r\nfunction ManagementRecord() {\r\n  const [records, setRecords] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchRecords = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        const response = await axios.get('http://localhost:5000/api/management-records', {\r\n          headers: { Authorization: `Bearer ${token}` }\r\n        });\r\n        setRecords(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching records:', error);\r\n        setError('관리 기록을 불러오는데 실패했습니다.');\r\n      }\r\n    };\r\n\r\n    fetchRecords();\r\n  }, []);\r\n\r\n  if (error) {\r\n    return (\r\n      <Container>\r\n        <Typography color=\"error\" sx={{ mt: 2 }}>\r\n          {error}\r\n        </Typography>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n        관리 기록\r\n      </Typography>\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>날짜</TableCell>\r\n              <TableCell>작업자</TableCell>\r\n              <TableCell>작업 내용</TableCell>\r\n              <TableCell>상세 정보</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {records.map((record) => (\r\n              <TableRow key={record.id}>\r\n                <TableCell>{new Date(record.created_at).toLocaleString()}</TableCell>\r\n                <TableCell>{record.user}</TableCell>\r\n                <TableCell>{record.action}</TableCell>\r\n                <TableCell>{record.details}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default ManagementRecord; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}